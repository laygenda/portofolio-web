{"version":3,"file":"Tooltip-BAxPWbMb.js","sources":["../../src/components/Tooltip.tsx"],"sourcesContent":["'use client'\n\nimport { cloneElement, useRef, useState, type ReactElement, type Ref } from 'react'\nimport {\n  arrow,\n  autoUpdate,\n  flip,\n  FloatingArrow,\n  FloatingPortal,\n  offset,\n  shift,\n  useDismiss,\n  useFloating,\n  useHover,\n  useInteractions,\n  useRole,\n  useTransitionStyles,\n  type OffsetOptions,\n  type Placement,\n  type UseHoverProps,\n  type UseTransitionStylesProps,\n} from '@floating-ui/react'\nimport { getClassName } from '../lib/calendar'\nimport type { ColorScheme } from '../types'\n\nexport type TooltipConfig = {\n  placement?: Placement\n  offset?: OffsetOptions\n  transitionStyles?: UseTransitionStylesProps\n  hoverRestMs?: UseHoverProps['restMs']\n  withArrow?: boolean\n}\n\nexport type TooltipProps = TooltipConfig & {\n  children: ReactElement<{ ref: Ref<unknown> }>\n  text: string\n  colorScheme: ColorScheme\n}\n\nexport function Tooltip({\n  children,\n  text,\n  colorScheme,\n  placement,\n  offset: offsetProp = 4,\n  transitionStyles: transitionStylesProp,\n  hoverRestMs = 150,\n  withArrow = false,\n}: TooltipProps) {\n  const [isOpen, setIsOpen] = useState(false)\n  const arrowRef = useRef(null)\n\n  const { context, refs, floatingStyles } = useFloating({\n    open: isOpen,\n    onOpenChange: setIsOpen,\n    placement,\n    middleware: [\n      flip(),\n      offset(offsetProp),\n      shift({ padding: 8 }),\n      withArrow ? arrow({ element: arrowRef }) : null, // eslint-disable-line react-hooks/refs\n    ],\n    whileElementsMounted: autoUpdate,\n  })\n\n  const hover = useHover(context, { restMs: hoverRestMs })\n  const dismiss = useDismiss(context)\n  const role = useRole(context, { role: 'tooltip' })\n\n  const { getReferenceProps, getFloatingProps } = useInteractions([hover, dismiss, role])\n  const { isMounted, styles: transitionStyles } = useTransitionStyles(context, transitionStylesProp)\n\n  return (\n    <>\n      {cloneElement(children, { ref: refs.setReference, ...getReferenceProps() })}\n      {isMounted && (\n        <FloatingPortal>\n          <div\n            ref={refs.setFloating}\n            className={getClassName('tooltip')}\n            style={{ ...floatingStyles, ...transitionStyles }}\n            data-color-scheme={colorScheme}\n            {...getFloatingProps()}\n          >\n            {text}\n            {withArrow && (\n              <FloatingArrow\n                ref={arrowRef}\n                context={context}\n                className={getClassName('tooltip-arrow')}\n              />\n            )}\n          </div>\n        </FloatingPortal>\n      )}\n    </>\n  )\n}\n"],"names":["Tooltip","children","text","colorScheme","placement","offset","offsetProp","transitionStyles","transitionStylesProp","hoverRestMs","withArrow","isOpen","setIsOpen","useState","arrowRef","useRef","context","refs","floatingStyles","useFloating","open","onOpenChange","middleware","flip","shift","padding","arrow","element","whileElementsMounted","autoUpdate","hover","useHover","restMs","dismiss","useDismiss","role","useRole","getReferenceProps","getFloatingProps","useInteractions","isMounted","styles","useTransitionStyles","_jsxs","_Fragment","cloneElement","ref","setReference","_jsx","FloatingPortal","setFloating","className","getClassName","style","FloatingArrow"],"mappings":";;;;;;;AAuCO,SAASA,OAAOA,CAAC;EACtBC,QAAQ;EACRC,IAAI;EACJC,WAAW;EACXC,SAAS;EACTC,MAAM,EAAEC,UAAU,GAAG,CAAC;AACtBC,EAAAA,gBAAgB,EAAEC,oBAAoB;AACtCC,EAAAA,WAAW,GAAG,GAAG;AACjBC,EAAAA,SAAS,GAAG;AACA,CAAC,EAAE;EACf,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGC,QAAQ,CAAC,KAAK,CAAC;AAC3C,EAAA,MAAMC,QAAQ,GAAGC,MAAM,CAAC,IAAI,CAAC;EAE7B,MAAM;IAAEC,OAAO;IAAEC,IAAI;AAAEC,IAAAA;GAAgB,GAAGC,WAAW,CAAC;AACpDC,IAAAA,IAAI,EAAET,MAAM;AACZU,IAAAA,YAAY,EAAET,SAAS;IACvBR,SAAS;AACTkB,IAAAA,UAAU,EAAE,CACVC,IAAI,EAAE,EACNlB,MAAM,CAACC,UAAU,CAAC,EAClBkB,KAAK,CAAC;AAAEC,MAAAA,OAAO,EAAE;AAAE,KAAC,CAAC,EACrBf,SAAS,GAAGgB,KAAK,CAAC;AAAEC,MAAAA,OAAO,EAAEb;KAAU,CAAC,GAAG,IAAI;KAChD;AACDc,IAAAA,oBAAoB,EAAEC;AACxB,GAAC,CAAC;AAEF,EAAA,MAAMC,KAAK,GAAGC,QAAQ,CAACf,OAAO,EAAE;AAAEgB,IAAAA,MAAM,EAAEvB;AAAY,GAAC,CAAC;AACxD,EAAA,MAAMwB,OAAO,GAAGC,UAAU,CAAClB,OAAO,CAAC;AACnC,EAAA,MAAMmB,IAAI,GAAGC,OAAO,CAACpB,OAAO,EAAE;AAAEmB,IAAAA,IAAI,EAAE;AAAU,GAAC,CAAC;EAElD,MAAM;IAAEE,iBAAiB;AAAEC,IAAAA;GAAkB,GAAGC,eAAe,CAAC,CAACT,KAAK,EAAEG,OAAO,EAAEE,IAAI,CAAC,CAAC;EACvF,MAAM;IAAEK,SAAS;AAAEC,IAAAA,MAAM,EAAElC;AAAiB,GAAC,GAAGmC,mBAAmB,CAAC1B,OAAO,EAAER,oBAAoB,CAAC;EAElG,oBACEmC,IAAA,CAAAC,QAAA,EAAA;AAAA3C,IAAAA,QAAA,EAAA,cACG4C,YAAY,CAAC5C,QAAQ,EAAE;MAAE6C,GAAG,EAAE7B,IAAI,CAAC8B,YAAY;AAAE,MAAA,GAAGV,iBAAiB;AAAG,KAAC,CAAC,EAC1EG,SAAS,iBACRQ,GAAA,CAACC,cAAc,EAAA;AAAAhD,MAAAA,QAAA,eACb0C,IAAA,CAAA,KAAA,EAAA;QACEG,GAAG,EAAE7B,IAAI,CAACiC,WAAY;AACtBC,QAAAA,SAAS,EAAEC,YAAY,CAAC,SAAS,CAAE;AACnCC,QAAAA,KAAK,EAAE;AAAE,UAAA,GAAGnC,cAAc;UAAE,GAAGX;SAAmB;AAClD,QAAA,mBAAA,EAAmBJ,WAAY;QAAA,GAC3BmC,gBAAgB,EAAE;AAAArC,QAAAA,QAAA,GAErBC,IAAI,EACJQ,SAAS,iBACRsC,GAAA,CAACM,aAAa,EAAA;AACZR,UAAAA,GAAG,EAAEhC,QAAS;AACdE,UAAAA,OAAO,EAAEA,OAAQ;UACjBmC,SAAS,EAAEC,YAAY,CAAC,eAAe;AAAE,SAC1C,CACF;OACE;AAAC,KACQ,CACjB;AAAA,GACD,CAAC;AAEP;;;;"}